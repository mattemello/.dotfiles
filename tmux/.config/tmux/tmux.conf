set -ga terminal-overrides ",screen-256color*:Tc"
set-option -g default-terminal "screen-256color"
set-option -g status-position top
set -s escape-time 0
set -sga allow-passthrough 'on'
set -g status-interval 1

unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

bind r source-file ~/.config/tmux/tmux.conf
set -g base-index 1

set-window-option -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'xclip -in -selection clipboard'

bind-key -r v split-window -h -c "#{pane_current_path}"
bind-key -r o split-window -v -c "#{pane_current_path}"
bind-key -r r run-shell "tmux setw -g status $(tmux show -g -w status | grep -q off && echo on || echo off)"

bind-key -r X confirm-before -p "do you want to kill the session? (y/N)" "run-shell 'tmux switch-client -n; tmux kill-session -t \"\$(tmux display-message -p \"#S\")\"'"

bind-key -r g set -g status

# vim-like pane switching
bind-key -r ^ last-window
bind-key -r k select-pane -U
bind-key -r j select-pane -D
bind-key -r h select-pane -L
bind-key -r l select-pane -R
bind-key -n M-H previous-window
bind-key -n M-L next-window

bind -r D neww -c "#{pane_current_path}" "[[ -e TODO.md ]] && nvim TODO.md || nvim ~/.dotfiles/personal/todo.md"
bind -r T neww -c "#{pane_current_path}" "nvim ~/.dotfiles/personal/personal-thought.md"
bind -r F neww -c "#{pane_current_path}" "nvim ~/.dotfiles/personal/tomorrow-todo.md"

bind-key -r i run-shell "tmux neww ~/.dotfiles/bin/stmux"

set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'

set -g @plugin "arcticicestudio/nord-tmux"

set -g @nord_tmux_no_patched_font "1"

set -g @plugin 'catppuccin/tmux'

set -g @catppuccin_flavor 'mocha'

set -g @catppuccin_window_current_number_color "#{@thm_mauve}"
set -g @catppuccin_window_status_style basic
set -ogq @catppuccin_window_text " #W"
set -g @catppuccin_window_default_text "#W"
set -g @catppuccin_window_current_text " #W"
set -ogq @catppuccin_window_number "#I"
set -g @catppuccin_window_number_position "left"
set -g @catppuccin_git_branch_enabled on
set -g @catppuccin_uptime_color "#{@thm_pink}"
set -g @catppuccin_session_color "#{?client_prefix,#{E:@thm_rosewater},#{E:@thm_sky}}"
set -g @catppuccin_status_connect_separator "yes"
set -g status-right-length 100
set -g status-left-length 100

set -g @catppuccin_disable_nerd_icons true
set -g @catppuccin_status_left_separator "█"

set -g status-left "#{E:@catppuccin_status_session} #{E:@catppuccin_session}"
set -g status-right "#{E:@catppuccin_status_uptime} #{E:@catppuccin_status_date_time} "

#set -g @plugin 'olimorris/tmux-pomodoro-plus'

# set -g @pomodoro_toggle 'p'                    # Start/pause a Pomodoro/break
# set -g @pomodoro_cancel 'P'                    # Cancel the current session
# set -g @pomodoro_skip '_'                      # Skip a Pomodoro/breakp
#
# set -g @pomodoro_on " "                      # The formatted output when the Pomodoro is running
# set -g @pomodoro_complete "✔︎ "                 # The formatted output when the break is running
# set -g @pomodoro_pause " "                    # The formatted output when the Pomodoro/break is paused
# set -g @pomodoro_prompt_break " break? "      # The formatted output when waiting to start a break
# set -g @pomodoro_prompt_pomodoro "⏱︎ start? "   # The formatted output when waiting to start a Pomodoro
# set -g @pomodoro_interval_display "[%s/%s]"
#
# set -g @pomodoro_menu_position "R"             # The location of the menu relative to the screen
# set -g @pomodoro_sound 'off'                   # Sound for desktop notifications (Run `ls /System/Library/Sounds` for a list of sounds to use on Mac)
# set -g @pomodoro_notifications 'on'           # Enable desktop notifications from your terminal
# set -g @pomodoro_granularity 'off'             # Enables MM:SS (ex: 00:10) format instead of the default (ex: 1m)
# set -g @pomodoro_granularity 'on'
#set -g @plugin 'spywhere/tmux-now-playing'

# set -g @plugin 'z3z1ma/tmux-gruvbox'
#
# set -g @gruvbox_flavor 'dark'
#
# set -g @gruvbox_window_current_number_color "#{@thm_mauve}"
# set -g @gruvbox_window_status_style basic
# set -ogq @gruvbox_window_text " #W"
# set -g @gruvbox_window_default_text "#W"
# set -g @gruvbox_window_current_text " #W"
# set -ogq @gruvbox_window_number "#I"
# set -g @gruvbox_window_number_position "left"
# set -g @gruvbox_git_branch_enabled on
# set -g @gruvbox_uptime_color "#{@thm_pink}"
# set -g @gruvbox_session_color "#{?client_prefix,#{E:@thm_rosewater},#{E:@thm_sky}}"
# set -g @gruvbox_status_connect_separator "yes"
# set -g status-right-length 100
# set -g status-left-length 100
#
# set -g @gruvbox_disable_nerd_icons true
# set -g @gruvbox_status_left_separator "█"
#
# set -g @gruvbox_status_modules_right "date_time host"
# set -g @gruvbox_status_modules_left "session"

set -g @plugin 'tmux-plugins/tpm'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)

run '~/.config/tmux/tmux/plugins/tpm/tpm'
